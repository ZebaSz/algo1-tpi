\documentclass[a4paper]{article}

\usepackage[spanish]{babel} % Le indicamos a LaTeX que vamos a escribir en espa�ol.
\usepackage[latin1]{inputenc} % Permite utilizar tildes y e�es normalmente
\input{Algo1Macros}% Macros especificas para especificar problemas en AyEDI
\usepackage{caratula} % Se puede descargar en ~> https://github.com/bcardiff/dc-tex

\usepackage{listings} % Para poner codigo
\lstset{language=C++, breaklines=true, showstringspaces=false, mathescape=true, fontadjust, tabsize=4}

% Aca solo vamos a poner el esqueleto del documento, pero no vamos a especificar nada.

\begin{document} % Todo lo que escribamos a partir de aca va a aparecer en el documento.

% Completar los datos de la caratula
\titulo{TPI - Agricultura con drones} 
\fecha{\today}
\materia{Algoritmos y Estructuras de Datos I}
\grupo{Grupo 15}

% Completar con cuantos integrantes quieran :)
\integrante{Szperling, Sebastian}{763/15}{zebaszp@gmail.com}
\integrante{Barylko, Roni}{750/15}{ronibarylko@hotmail.com}
\integrante{Giudice, Carlos}{694/15}{Carlosr.giudice@gmail.com}
\integrante{Lopez Segura, Florencia}{759/13}{fsegura@dc.uba.ar}

\maketitle

\section{vueloEscalerado}

    \subsection{C\'odigo}
    \lstinputlisting{vueloEscalerado.cpp}

    \subsection{Demostraci\'on}
        \noindent
        \begin{Large}
        {$P_c \rightarrow I$}
        \end{Large} \\
        \\
        \textbf{Pc} \\
        vale $ P_c : i = 1 \land \longitud{vueloRealizado(this)} > 2 \land escalerado == (|dirx| == |diry|) $ \\
        \\
		\textbf{I} \\
        $ I : 1 \leq i \leq \longitud{vueloRealizado(this)} -2 \ \land \ escalerado == (|dirx| == |diry| \ \land \ (\forall j \leftarrow [0..i) (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} == dirx \ \land \ \ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry) $ \\   
        \\
        $ Pc \implica $\\$
        1 \leq i \leq \longitud{vueloRealizado(this)} -2 \land [0..i) == [0] $\\$
        \implica 1 \leq i \leq \longitud{vueloRealizado(this)} -2 \\ \land escalerado == (enVuelo(this) \ \land \ |dirx| == |diry| \ \land \ (\prm{vueloRealizado(this)_0} - \prm{vueloRealizado(this)_2}) == dirx \ \land \ (\sgd{vueloRealizado(this)_0} - \sgd{vueloRealizado(this)_2}) == diry) $\\$
        \implica 1 \leq i \leq \longitud{vueloRealizado(this)} -2 \\ \land \ escalerado == (enVuelo(this) \ \land \ |dirx| == |diry|)$ (por definicion de dirx y diry) \\
        
        Dado que $i=1 \implica [0..i) == [0]$ la condicion de igualdad $(\prm{vueloRealizado(this)_0} - \prm{vueloRealizado(this)_2}) == dirx$ es una tautologia, y lo mismo ocurre con diry. Por lo tanto, Pc implica ambas condiciones del invariante (i pertenece al rango, y la condicion de escalerado es la misma que en Pc (por lo dicho anteriormente) entonces $ Pc \implica I $
        \newpage
        
        \begin{Large}
        {$(I \land \neg B) \implica Qc$}
        \end{Large}\\
        \\
        \textbf{I}\\
        $ I : 1 \leq i \leq \longitud{vueloRealizado(this)} -2 \ \land \ escalerado == (|dirx| == |diry| \ \land \ (\forall j \leftarrow [0..i) (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} == dirx \ \land \ \ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry) $ \\   
        \\
        \textbf{$\neg$B}\\
        $\neg$escalerado$ \ \vee \ i \geq \longitud{vueloRealizado(this)} - 2$\\
        \\ 
        \textbf{Qc}\\ 
        vale $ Q_c : escalerado == (|dirx| == |diry| \ \land \ (\forall i \leftarrow [0..\longitud{vueloRealizado(this)} - 2)) (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} == dirx  \land \ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry) $ \\ 
        \\ $I \land \neg B \implica $\\ 
        $ i == \longitud{vueloRealizado(this)} -2 \vee \neg (|dirx| == |diry| \land (\forall j \leftarrow [0..i -1)) \\ (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} \\ == dirx \land \ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry) \implica $\\
        $ (i == \longitud{vueloRealizado(this)} -2 \land escalerado) \vee (i \leq \longitud{vueloRealizado(this)} -2 \land \neg escalerado)\implica $\\
        $ escalerado == (|dirx| == |diry| \ \land \ (\forall i \leftarrow [0..\longitud{vueloRealizado(this)} - 2)) $\\$ (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} == dirx \ \land \ $\\$ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry)$ \\
        \\ Dado I y $\neg B$ se deduce que i = vueloRealizado(this) - 2, o que escalerado es false. Entonces, o bien escalerado es true e i = vueloRealizado(this) - 2, o bien escaleardo es false y, por I, no se cumple la condicion para i $\leq$ vueloRealizado(this)-2. Por lo tanto, $I \land \neg B \implica Qc$\\
        \\
        \\
        \begin{Large}
        {$(I \land fv < cota) \implica \neg B$}
        \end{Large}\\
        \\
        \textbf{I}\\
        $ I : 1 \leq i \leq \longitud{vueloRealizado(this)} -2 \ \land \ escalerado == (|dirx| == |diry| \ \land \ (\forall j \leftarrow [0..i) (\prm{vueloRealizado(this)_i} - \prm{vueloRealizado(this)_{i+2}} == dirx \ \land \ \ \sgd{vueloRealizado(this)_i} - \sgd{vueloRealizado(this)_{i+2}} == diry) $ \\ 
        \\
        \textbf{fv}\\
        Funcion variante fv: $ \longitud{vueloRealizado(this)} - i - 2 $\\
        Cota: $1$\\
        \\
        \textbf{$\neg$B}\\
        $\neg$escalerado$ \ \vee \ i \geq \longitud{vueloRealizado(this)} - 2$\\
        \\ $I \land fv < cota \implica$\\
        $ i \geq \longitud{vueloRealizado(this)} - 2 \implica$\\
        $ \neg$escalerado$ \ \vee \ i \geq \longitud{vueloRealizado(this)} - 2$ (P implica P $\vee$ Q) \\
        \\ De esta manera, $I \land fv < cota$ implica que i sea mayor o igual a $\longitud{vueloRealizado(this)} - 2$ (y de hecho, es igual) y por lo tanto, basta con saber esto para afirmar la negacion de la guarda.\\
        De este modo, queda demostrado que $(I \land fv < cota) \implica \neg B$
\newpage

\section{listoParaCosechar}

    \subsection{C\'odigo}
    \lstinputlisting{listoParaCosechar.cpp}

    \subsection{Demostraci\'on}
        \noindent
        \begin{large}
       {$P_c \rightarrow I$}
        \end{large} \\
        \\
        \textbf{Pc} \\
        vale $ P_c : cantCosechables == 0 \land i == 0$ \\
        \\
		\textbf{I} \\
        $ I: 0 \leq i \leq (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\ $ \land | [1| x \leftarrow [0..i \div sgd(dimensiones(campo(this)))) $\\ $ y \leftarrow [0.. (i-1) \ mod \ sgd(dimensiones(campo(this)))], estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables $\\   
\\ $Pc \implica$\\
$i == 0 \implica$\\
$ 0 \leq i \leq (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) \land $\\$
[1| x \leftarrow [0..0) $\\ $ y \leftarrow [0.. sgd(dimensiones(campo(this) - 1], estadoDelCultivo((x,y), this) == ListoParaCosechar]| == cantCosechables$\\
\\ Pc asegura i==0 $ \land $ cantCosechables == 0, lo cual implica que $ [1| x \leftarrow [0..0) $\\ $ y \leftarrow [0.. sgd(dimensiones(campo(this) - 1], estadoDelCultivo((x,y), this) == ListoParaCosechar]|$ no recorra ninguna posicion ( $x \leftarrow \lvacia$) y por lo tanto longitud == 0 == cantCosechables\\
Entonces $P_c \implica I$

\newpage
		\begin{Large}
        {$(I \land \neg B) \implica Qc$}
        \end{Large}\\
        \\
        \textbf{I}\\
         $ I: 0 \leq i \leq (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\ 	$ \land | [1| x \leftarrow [0..i \div sgd(dimensiones(campo(this)))) $\\ $ y \leftarrow 	[0.. (i-1) \ mod \ sgd(dimensiones(campo(this)))], estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables $ \\   
        \\
        \textbf{$\neg$B}\\
        $(prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) \leq i$\\
        \\ 
        \textbf{Qc}\\
         vale $Q_c$:$i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) \land $\\ $ \longitud{[1| pos \leftarrow parcelasCultivo(campo(this)), estadoDelCultivo(pos, this) == ListoParaCosechar]} $\\ $ == cantCosechables $
         
$(I \land \neg B) \implica$\\
$i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\$ \land | [1| x \leftarrow [0..i \div sgd(dimensiones(campo(this)))) $\\ $ y \leftarrow 	[0.. i \ mod \ sgd(dimensiones(campo(this)))), estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables \implica$\\
$i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\$ \land | [1| x \leftarrow [0..prm(dimensiones(campo(this)))) $\\ $ y \leftarrow 	[0..sgd(dimensiones(campo(this))) - 1], estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables \implica$\\
$ i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\$ \land | [1| x \leftarrow [0..prm(dimensiones(campo(this)))) $\\ $ y \leftarrow 	[0..sgd(dimensiones(campo(this)))), estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables $\\

$\neg B \ \land \ I$  asegura que $ i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))))$ y que cantCosechables es igual a la longitud de la lista correspondiente, pero al ser  $i == (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))))$ esto nos permite asegurar que las variables x e y recorren todo el campo. De este modo, tenemos el invariante extendido para todo el campo y la cantCosechables es igual a la longitud de la lista, lo que es exactamente Qc. \\
Por lo tanto,$(I \land \neg B) \implica Qc$\\
		\\
        \begin{Large}
        {$(I \land fv < cota) \implica \neg B$}
        \end{Large}\\
        \\
        \textbf{I}\\
         $ I: 0 \leq i \leq (prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) $\\ 	$ \land | [1| x \leftarrow [0..i \div sgd(dimensiones(campo(this)))) $\\ $ y \leftarrow 	[0.. (i-1) \ mod \ sgd(dimensiones(campo(this)))], estadoDelCultivo((x,y), this) == ListoParaCosechar]| $\\$ == cantCosechables $ \\
        \\
        \textbf{fv}\\
        Funcion variante fv: $ prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))) - i $\\
        Cota: $1$\\
        \\
       \textbf{$\neg$B}\\
        $(prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) \leq i$\\
        \\
$(I \land fv < cota) \implica$\\
$prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))) - i < 1 \implica$\\
$prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))) - i \leq 0 \implica$\\
$prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))) \leq i \ \land \ $\\$ prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this))) \geq i \implica$\\
$i == prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))$\\
\\
$fv < cota$ implica que i sea al menos $prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))$ y el invariante, que sea menor a esa expresion. Por lo tanto, i es igual a la expresion, lo cual implica la negacion de la guarda ($\neg ((prm(dimensiones(campo(this)) \times sgd(dimensiones(campo(this)))) > i))$
Por lo tanto, $(I \land \neg B) \implica Qc$
\end{document} %Termin�!
